<CascadingAuthenticationState>
    <ErrorBoundary>
        <ChildContent>
            <Router AppAssembly="@typeof(App).Assembly">
                <Found Context="routeData">
                    <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)">
                        <NotAuthorized>
                            <PageTitle>Access Denied</PageTitle>
                            <h1>Access Denied</h1>
                            <p role="alert">You are not authorized to access this page.</p>
                            <p role="alert">To get started, please <a href="/Login">log in</a>.</p>
                            <p role="alert">If you don't have an account, you can <a href="/Register">register here</a>.</p>
                        </NotAuthorized>
                    </AuthorizeRouteView>
                </Found>
                <NotFound>
                    <PageTitle>Not found</PageTitle>
                    <LayoutView Layout="@typeof(MainLayout)">
                        <p role="alert">Sorry, there's nothing at this address.</p>
                    </LayoutView>
                </NotFound>
            </Router>
        </ChildContent>
        <ErrorContent>
            @if (context is Exception ex)
            {
                <Alert Color="AlertColor.Danger">
                    <Icon Name="IconName.ExclamationTriangleFill" class="me-2"></Icon>
                    <h1 class="text-danger">An error has occurred.</h1>
                    <p>Sorry, something went wrong while processing your request.</p>
                    <p>Please try again later or contact support if the issue persists.</p>
                    <p>@ex.Message</p>
                    <p>@ex.StackTrace</p>
                </Alert>
            }
        </ErrorContent>
    </ErrorBoundary>

</CascadingAuthenticationState>
